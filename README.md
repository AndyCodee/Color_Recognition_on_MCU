# Using NuMicro-NUC140, Combine a Neural Network to Recognize 7 colors

- In this project, we employ three photoresistors to measure light intensity corresponding to RGB values. Each photoresistor is covered with a translucent filter (red, green, or blue), allowing only the respective color's light to pass through. This setup enables the detection of the intensity of each individual RGB component, which is then analyzed to recognize seven distinct colors based on their light intensity.
- The methodology begins with data collection, followed by training a simple neural network using the RGB values generated by the photoresistors. The trained model produces a weight matrix, which is then utilized in a real-time predictive model for accurate color recognition.

<img src="https://github.com/user-attachments/assets/3660d42c-c90f-4c90-97cd-460a651b6222" width="600">





## Content
* [Device and IDE](#device-and-ide)
* [Circuit Diagram](#circuit-diagram)
* [Operating Principle](#operating-principle)
* [Machine Learning](#machine-learning)
* [STEPS](#steps)
* [Flow Chart](#flow-chart)
* [DEMO Video (YouTube)](#demo-video-youtube)

## Device and IDE
### [NuvoTon NuMicro-NUC140](https://www.nuvoton.com/products/microcontrollers/arm-cortex-m0-mcus/nuc140-240-connectivity-series/?__locale=zh_TW)
<img src="https://github.com/user-attachments/assets/30c15078-53bf-48de-983a-7b072c37de7f" width="500" />



### [keil uVision 5](https://www.keil.com/download/list/uvision.htm)
<img src="https://github.com/user-attachments/assets/f8142b6a-61fc-459c-83a1-2361ee4d3eb9" width="200">


## Circuit Diagram
![image](https://github.com/user-attachments/assets/26526984-e303-4d4f-978f-6cae3745e3bc)


## Method
### Operating Principle
`Color Sensor`:
- When an object is illuminated with white light, it reflects 
the wavelengths of light that correspond to its inherent 
color.
- Reflected light can be used to determine an object’s color.
- A photoresistor’s resistance varies with light intensity
- Cellophane can assist in filtering light
- Combining these helps detect the intensity of specific 
colored light
- ![image](https://github.com/user-attachments/assets/e0ff4258-7df9-4501-815c-37fd3775d799)


### Machine Learning
- Use MLP (Multilayer Perceptron) as the model architecture.
![image](https://github.com/user-attachments/assets/987c1b44-1aa4-425b-8db1-970c32820f4c)




### STEPS
1. `Baseline Initialization`:
Perform an initial scan of the ADC values from the three RGB photoresistors to establish the baseline ambient light levels.
2. `Continuous Monitoring`:
Continuously monitor the ADC(Analog-to-digital converter register) values of the RGB photoresistors for any significant changes.
3. `Banknote Detection (Start of Recording)`:
When a significant change in the RGB photoresistor values is detected, it indicates that a banknote has been inserted.
Start recording the variations in RGB intensity.
4. `Banknote Exit Detection (End of Recording)`:
When a second significant change is detected, it indicates that the banknote has passed through, and the ambient light has returned to the baseline.
Stop recording and finalize the RGB time-series data.
5. `Data Resampling`:
Resample the recorded time-series data to a fixed temporal length to ensure consistency in model input.
6. `Banknote Recognition`:
Feed the resampled data into the predictive model to determine the denomination of the banknote.
7. `Result Display`:
Output the recognition result on the terminal.

### Flow Chart
<img src="https://github.com/user-attachments/assets/c9f31a80-07d1-4316-83b5-332495b21d1b" width="700">


## DEMO Video (YouTube) 
[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/qb9uLU0ng0Y/0.jpg)](https://www.youtube.com/watch?v=qb9uLU0ng0Y)

